(()=>{"use strict";var e={4899:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handleQueueUrl=t.refreshAccessTokenUrl=t.pingHealthCheckUrl=t.handleMonitorUrl=t.pingOneApiUrl=t.pingAllApisUrl=t.getApiUrl=t.editApiUrl=t.deleteApiUrl=t.getAllApisStatsUrl=t.getAllApisUrl=t.createApiUrl=t.updateUserUrl=t.loginUserUrl=t.registerUserUrl=t.resetMockMonitorDbUrl=t.seedMockApisDbUrl=t.resetMockApisDbUrl=t.seedMockUsersDbUrl=t.resetMockUsersDbUrl=t.baseSeedDbUrl=t.baseQueueUrl=t.baseMonitorUrl=t.baseApiUrl=t.baseAuthUrl=void 0,t.baseAuthUrl="/api/auth",t.baseApiUrl="/api/api",t.baseMonitorUrl="/api/monitor",t.baseQueueUrl="/api/queue",t.baseSeedDbUrl="/api/mockDb",t.registerUserUrl="/register",t.loginUserUrl="/login",t.updateUserUrl="/updateUser",t.refreshAccessTokenUrl="/refreshToken",t.createApiUrl="",t.getAllApisUrl="",t.getAllApisStatsUrl="/stats",t.deleteApiUrl="",t.editApiUrl="",t.getApiUrl="",t.pingAllApisUrl="/pingAll",t.pingOneApiUrl="/pingOne",t.handleMonitorUrl="",t.handleQueueUrl="",t.resetMockUsersDbUrl="/resetDb/users",t.resetMockApisDbUrl="/resetDb/api",t.resetMockMonitorDbUrl="/resetDb/monitor",t.seedMockUsersDbUrl="/seedDb/users",t.seedMockApisDbUrl="/seedDb/api",t.pingHealthCheckUrl="/api/ping"},5975:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.cookieHttpOnlySetting=t.cookieSameSiteSetting=t.cookieSecureSetting=t.cookieExpiryTime=t.cookieName=void 0,i(a(5142)).default.config(),t.cookieName="apiSherlockId",t.cookieExpiryTime=864e5,t.cookieSecureSetting=!0,t.cookieSameSiteSetting="none",t.cookieHttpOnlySetting=!0},5994:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pingHealthCheckSuccessMsg=t.deleteMonitorSuccessMsg=t.pingOneApiSuccessMsg=t.pingAllApisSuccessMsg=t.deleteApiSuccessMsg=void 0,t.deleteApiSuccessMsg={msg:"Success! Api removed"},t.pingAllApisSuccessMsg={msg:"Pinged APIs!"},t.pingOneApiSuccessMsg={msg:"Pinged API!"},t.deleteMonitorSuccessMsg={msg:"Success! Monitor turned off"},t.pingHealthCheckSuccessMsg="hello world!"},6658:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validApiHostOptions=t.validApiMonitoringOptions=t.validApiStatusOptions=t.validApiSortOptions=t.validApiSearchParams=t.validUpdateApiKeys=t.validCreateApiKeys=void 0;const i=a(5213),r=a(3949);t.validCreateApiKeys=Object.keys(r.mockApi),t.validUpdateApiKeys=t.validCreateApiKeys,t.validApiSearchParams=Object.values(i.ApiQueryParamsEnum),t.validApiSortOptions=Object.values(i.ApiSortOptions),t.validApiStatusOptions=Object.values(i.ApiStatusOptions),t.validApiMonitoringOptions=Object.values(i.ApiMonitoringOptions),t.validApiHostOptions=Object.values(i.ApiHostOptions)},3367:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.stringDaysOptions=t.getEnumDay=t.validMonitorDateDayOfWeekOptions=t.validMonitorDateAMorPMOptions=t.validMonitorDateMinuteOptions=t.validMonitorDateHourOptions=t.validMonitorScheduleTypeOptions=t.validMonitorIntervalScheduleOptions=t.validMonitorSettingOptions=t.validUpdateMonitorKeys=t.validCreateMonitorKeys=void 0;const i=a(8801),r=a(4871);function o(e,t){return e[t]}t.validCreateMonitorKeys=Object.keys(r.mockMonitor),t.validUpdateMonitorKeys=t.validCreateMonitorKeys,t.validMonitorSettingOptions=Object.values(i.MonitorSettingOptions),t.validMonitorIntervalScheduleOptions=Object.values(i.MonitorIntervalScheduleOptions),t.validMonitorScheduleTypeOptions=Object.values(i.MonitorScheduleTypeOptions),t.validMonitorDateHourOptions=[...Array(13).keys()].slice(1),t.validMonitorDateMinuteOptions=Array.from({length:60},((e,t)=>t)),t.validMonitorDateAMorPMOptions=Object.values(i.MonitorDateAMOrPMOptions),t.validMonitorDateDayOfWeekOptions=Array.from({length:7},((e,t)=>t)),t.getEnumDay=o,t.stringDaysOptions=[],Object.values(t.validMonitorDateDayOfWeekOptions).forEach((e=>t.stringDaysOptions.push(o(i.MonitorDateDayOfWeekOptions,e))))},4571:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timezoneOffsets=void 0;const i=a(8169);t.timezoneOffsets=[...new Set(i.timezones.map((e=>e.offset)))]},8169:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timezones=void 0,t.timezones=[{value:"Dateline Standard Time",abbr:"DST",offset:-12,isdst:!1,text:"(UTC-12:00) International Date Line West",utc:["Etc/GMT+12"]},{value:"UTC-11",abbr:"U",offset:-11,isdst:!1,text:"(UTC-11:00) Coordinated Universal Time-11",utc:["Etc/GMT+11","Pacific/Midway","Pacific/Niue","Pacific/Pago_Pago"]},{value:"Hawaiian Standard Time",abbr:"HST",offset:-10,isdst:!1,text:"(UTC-10:00) Hawaii",utc:["Etc/GMT+10","Pacific/Honolulu","Pacific/Johnston","Pacific/Rarotonga","Pacific/Tahiti"]},{value:"Alaskan Standard Time",abbr:"AKDT",offset:-8,isdst:!0,text:"(UTC-09:00) Alaska",utc:["America/Anchorage","America/Juneau","America/Nome","America/Sitka","America/Yakutat"]},{value:"Pacific Standard Time (Mexico)",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-08:00) Baja California",utc:["America/Santa_Isabel"]},{value:"Pacific Daylight Time",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-07:00) Pacific Daylight Time (US & Canada)",utc:["America/Los_Angeles","America/Tijuana","America/Vancouver"]},{value:"Pacific Standard Time",abbr:"PST",offset:-8,isdst:!1,text:"(UTC-08:00) Pacific Standard Time (US & Canada)",utc:["America/Los_Angeles","America/Tijuana","America/Vancouver","PST8PDT"]},{value:"US Mountain Standard Time",abbr:"UMST",offset:-7,isdst:!1,text:"(UTC-07:00) Arizona",utc:["America/Creston","America/Dawson","America/Dawson_Creek","America/Hermosillo","America/Phoenix","America/Whitehorse","Etc/GMT+7"]},{value:"Mountain Standard Time (Mexico)",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",utc:["America/Chihuahua","America/Mazatlan"]},{value:"Mountain Standard Time",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Mountain Time (US & Canada)",utc:["America/Boise","America/Cambridge_Bay","America/Denver","America/Edmonton","America/Inuvik","America/Ojinaga","America/Yellowknife","MST7MDT"]},{value:"Central America Standard Time",abbr:"CAST",offset:-6,isdst:!1,text:"(UTC-06:00) Central America",utc:["America/Belize","America/Costa_Rica","America/El_Salvador","America/Guatemala","America/Managua","America/Tegucigalpa","Etc/GMT+6","Pacific/Galapagos"]},{value:"Central Standard Time",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Central Time (US & Canada)",utc:["America/Chicago","America/Indiana/Knox","America/Indiana/Tell_City","America/Matamoros","America/Menominee","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Rainy_River","America/Rankin_Inlet","America/Resolute","America/Winnipeg","CST6CDT"]},{value:"Central Standard Time (Mexico)",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",utc:["America/Bahia_Banderas","America/Cancun","America/Merida","America/Mexico_City","America/Monterrey"]},{value:"Canada Central Standard Time",abbr:"CCST",offset:-6,isdst:!1,text:"(UTC-06:00) Saskatchewan",utc:["America/Regina","America/Swift_Current"]},{value:"SA Pacific Standard Time",abbr:"SPST",offset:-5,isdst:!1,text:"(UTC-05:00) Bogota, Lima, Quito",utc:["America/Bogota","America/Cayman","America/Coral_Harbour","America/Eirunepe","America/Guayaquil","America/Jamaica","America/Lima","America/Panama","America/Rio_Branco","Etc/GMT+5"]},{value:"Eastern Standard Time",abbr:"EST",offset:-5,isdst:!1,text:"(UTC-05:00) Eastern Time (US & Canada)",utc:["America/Detroit","America/Havana","America/Indiana/Petersburg","America/Indiana/Vincennes","America/Indiana/Winamac","America/Iqaluit","America/Kentucky/Monticello","America/Louisville","America/Montreal","America/Nassau","America/New_York","America/Nipigon","America/Pangnirtung","America/Port-au-Prince","America/Thunder_Bay","America/Toronto"]},{value:"Eastern Daylight Time",abbr:"EDT",offset:-4,isdst:!0,text:"(UTC-04:00) Eastern Daylight Time (US & Canada)",utc:["America/Detroit","America/Havana","America/Indiana/Petersburg","America/Indiana/Vincennes","America/Indiana/Winamac","America/Iqaluit","America/Kentucky/Monticello","America/Louisville","America/Montreal","America/Nassau","America/New_York","America/Nipigon","America/Pangnirtung","America/Port-au-Prince","America/Thunder_Bay","America/Toronto"]},{value:"US Eastern Standard Time",abbr:"UEDT",offset:-5,isdst:!1,text:"(UTC-05:00) Indiana (East)",utc:["America/Indiana/Marengo","America/Indiana/Vevay","America/Indianapolis"]},{value:"Venezuela Standard Time",abbr:"VST",offset:-4.5,isdst:!1,text:"(UTC-04:30) Caracas",utc:["America/Caracas"]},{value:"Paraguay Standard Time",abbr:"PYT",offset:-4,isdst:!1,text:"(UTC-04:00) Asuncion",utc:["America/Asuncion"]},{value:"Atlantic Standard Time",abbr:"ADT",offset:-3,isdst:!0,text:"(UTC-04:00) Atlantic Time (Canada)",utc:["America/Glace_Bay","America/Goose_Bay","America/Halifax","America/Moncton","America/Thule","Atlantic/Bermuda"]},{value:"Central Brazilian Standard Time",abbr:"CBST",offset:-4,isdst:!1,text:"(UTC-04:00) Cuiaba",utc:["America/Campo_Grande","America/Cuiaba"]},{value:"SA Western Standard Time",abbr:"SWST",offset:-4,isdst:!1,text:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",utc:["America/Anguilla","America/Antigua","America/Aruba","America/Barbados","America/Blanc-Sablon","America/Boa_Vista","America/Curacao","America/Dominica","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guyana","America/Kralendijk","America/La_Paz","America/Lower_Princes","America/Manaus","America/Marigot","America/Martinique","America/Montserrat","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Santo_Domingo","America/St_Barthelemy","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Tortola","Etc/GMT+4"]},{value:"Pacific SA Standard Time",abbr:"PSST",offset:-4,isdst:!1,text:"(UTC-04:00) Santiago",utc:["America/Santiago","Antarctica/Palmer"]},{value:"Newfoundland Standard Time",abbr:"NDT",offset:-2.5,isdst:!0,text:"(UTC-03:30) Newfoundland",utc:["America/St_Johns"]},{value:"E. South America Standard Time",abbr:"ESAST",offset:-3,isdst:!1,text:"(UTC-03:00) Brasilia",utc:["America/Sao_Paulo"]},{value:"Argentina Standard Time",abbr:"AST",offset:-3,isdst:!1,text:"(UTC-03:00) Buenos Aires",utc:["America/Argentina/La_Rioja","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Buenos_Aires","America/Catamarca","America/Cordoba","America/Jujuy","America/Mendoza"]},{value:"SA Eastern Standard Time",abbr:"SEST",offset:-3,isdst:!1,text:"(UTC-03:00) Cayenne, Fortaleza",utc:["America/Araguaina","America/Belem","America/Cayenne","America/Fortaleza","America/Maceio","America/Paramaribo","America/Recife","America/Santarem","Antarctica/Rothera","Atlantic/Stanley","Etc/GMT+3"]},{value:"Greenland Standard Time",abbr:"GDT",offset:-3,isdst:!0,text:"(UTC-03:00) Greenland",utc:["America/Godthab"]},{value:"Montevideo Standard Time",abbr:"MST",offset:-3,isdst:!1,text:"(UTC-03:00) Montevideo",utc:["America/Montevideo"]},{value:"Bahia Standard Time",abbr:"BST",offset:-3,isdst:!1,text:"(UTC-03:00) Salvador",utc:["America/Bahia"]},{value:"UTC-02",abbr:"U",offset:-2,isdst:!1,text:"(UTC-02:00) Coordinated Universal Time-02",utc:["America/Noronha","Atlantic/South_Georgia","Etc/GMT+2"]},{value:"Mid-Atlantic Standard Time",abbr:"MDT",offset:-1,isdst:!0,text:"(UTC-02:00) Mid-Atlantic - Old",utc:[]},{value:"Azores Standard Time",abbr:"ADT",offset:0,isdst:!0,text:"(UTC-01:00) Azores",utc:["America/Scoresbysund","Atlantic/Azores"]},{value:"Cape Verde Standard Time",abbr:"CVST",offset:-1,isdst:!1,text:"(UTC-01:00) Cape Verde Is.",utc:["Atlantic/Cape_Verde","Etc/GMT+1"]},{value:"Morocco Standard Time",abbr:"MDT",offset:1,isdst:!0,text:"(UTC) Casablanca",utc:["Africa/Casablanca","Africa/El_Aaiun"]},{value:"UTC",abbr:"UTC",offset:0,isdst:!1,text:"(UTC) Coordinated Universal Time",utc:["America/Danmarkshavn","Etc/GMT"]},{value:"GMT Standard Time",abbr:"GMT",offset:0,isdst:!1,text:"(UTC) Edinburgh, London",utc:["Europe/Isle_of_Man","Europe/Guernsey","Europe/Jersey","Europe/London"]},{value:"British Summer Time",abbr:"BST",offset:1,isdst:!0,text:"(UTC+01:00) Edinburgh, London",utc:["Europe/Isle_of_Man","Europe/Guernsey","Europe/Jersey","Europe/London"]},{value:"GMT Standard Time",abbr:"GDT",offset:1,isdst:!0,text:"(UTC) Dublin, Lisbon",utc:["Atlantic/Canary","Atlantic/Faeroe","Atlantic/Madeira","Europe/Dublin","Europe/Lisbon"]},{value:"Greenwich Standard Time",abbr:"GST",offset:0,isdst:!1,text:"(UTC) Monrovia, Reykjavik",utc:["Africa/Abidjan","Africa/Accra","Africa/Bamako","Africa/Banjul","Africa/Bissau","Africa/Conakry","Africa/Dakar","Africa/Freetown","Africa/Lome","Africa/Monrovia","Africa/Nouakchott","Africa/Ouagadougou","Africa/Sao_Tome","Atlantic/Reykjavik","Atlantic/St_Helena"]},{value:"W. Europe Standard Time",abbr:"WEDT",offset:2,isdst:!0,text:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",utc:["Arctic/Longyearbyen","Europe/Amsterdam","Europe/Andorra","Europe/Berlin","Europe/Busingen","Europe/Gibraltar","Europe/Luxembourg","Europe/Malta","Europe/Monaco","Europe/Oslo","Europe/Rome","Europe/San_Marino","Europe/Stockholm","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Zurich"]},{value:"Central Europe Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",utc:["Europe/Belgrade","Europe/Bratislava","Europe/Budapest","Europe/Ljubljana","Europe/Podgorica","Europe/Prague","Europe/Tirane"]},{value:"Romance Standard Time",abbr:"RDT",offset:2,isdst:!0,text:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",utc:["Africa/Ceuta","Europe/Brussels","Europe/Copenhagen","Europe/Madrid","Europe/Paris"]},{value:"Central European Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",utc:["Europe/Sarajevo","Europe/Skopje","Europe/Warsaw","Europe/Zagreb"]},{value:"W. Central Africa Standard Time",abbr:"WCAST",offset:1,isdst:!1,text:"(UTC+01:00) West Central Africa",utc:["Africa/Algiers","Africa/Bangui","Africa/Brazzaville","Africa/Douala","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Luanda","Africa/Malabo","Africa/Ndjamena","Africa/Niamey","Africa/Porto-Novo","Africa/Tunis","Etc/GMT-1"]},{value:"Namibia Standard Time",abbr:"NST",offset:1,isdst:!1,text:"(UTC+01:00) Windhoek",utc:["Africa/Windhoek"]},{value:"GTB Standard Time",abbr:"GDT",offset:3,isdst:!0,text:"(UTC+02:00) Athens, Bucharest",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau"]},{value:"Middle East Standard Time",abbr:"MEDT",offset:3,isdst:!0,text:"(UTC+02:00) Beirut",utc:["Asia/Beirut"]},{value:"Egypt Standard Time",abbr:"EST",offset:2,isdst:!1,text:"(UTC+02:00) Cairo",utc:["Africa/Cairo"]},{value:"Syria Standard Time",abbr:"SDT",offset:3,isdst:!0,text:"(UTC+02:00) Damascus",utc:["Asia/Damascus"]},{value:"E. Europe Standard Time",abbr:"EEDT",offset:3,isdst:!0,text:"(UTC+02:00) E. Europe",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau","Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Nicosia","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{value:"South Africa Standard Time",abbr:"SAST",offset:2,isdst:!1,text:"(UTC+02:00) Harare, Pretoria",utc:["Africa/Blantyre","Africa/Bujumbura","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Kigali","Africa/Lubumbashi","Africa/Lusaka","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Etc/GMT-2"]},{value:"FLE Standard Time",abbr:"FDT",offset:3,isdst:!0,text:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",utc:["Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{value:"Turkey Standard Time",abbr:"TDT",offset:3,isdst:!1,text:"(UTC+03:00) Istanbul",utc:["Europe/Istanbul"]},{value:"Israel Standard Time",abbr:"JDT",offset:3,isdst:!0,text:"(UTC+02:00) Jerusalem",utc:["Asia/Jerusalem"]},{value:"Libya Standard Time",abbr:"LST",offset:2,isdst:!1,text:"(UTC+02:00) Tripoli",utc:["Africa/Tripoli"]},{value:"Jordan Standard Time",abbr:"JST",offset:3,isdst:!1,text:"(UTC+03:00) Amman",utc:["Asia/Amman"]},{value:"Arabic Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Baghdad",utc:["Asia/Baghdad"]},{value:"Kaliningrad Standard Time",abbr:"KST",offset:3,isdst:!1,text:"(UTC+02:00) Kaliningrad",utc:["Europe/Kaliningrad"]},{value:"Arab Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Kuwait, Riyadh",utc:["Asia/Aden","Asia/Bahrain","Asia/Kuwait","Asia/Qatar","Asia/Riyadh"]},{value:"E. Africa Standard Time",abbr:"EAST",offset:3,isdst:!1,text:"(UTC+03:00) Nairobi",utc:["Africa/Addis_Ababa","Africa/Asmera","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Mogadishu","Africa/Nairobi","Antarctica/Syowa","Etc/GMT-3","Indian/Antananarivo","Indian/Comoro","Indian/Mayotte"]},{value:"Moscow Standard Time",abbr:"MSK",offset:3,isdst:!1,text:"(UTC+03:00) Moscow, St. Petersburg, Volgograd, Minsk",utc:["Europe/Kirov","Europe/Moscow","Europe/Simferopol","Europe/Volgograd","Europe/Minsk"]},{value:"Samara Time",abbr:"SAMT",offset:4,isdst:!1,text:"(UTC+04:00) Samara, Ulyanovsk, Saratov",utc:["Europe/Astrakhan","Europe/Samara","Europe/Ulyanovsk"]},{value:"Iran Standard Time",abbr:"IDT",offset:4.5,isdst:!0,text:"(UTC+03:30) Tehran",utc:["Asia/Tehran"]},{value:"Arabian Standard Time",abbr:"AST",offset:4,isdst:!1,text:"(UTC+04:00) Abu Dhabi, Muscat",utc:["Asia/Dubai","Asia/Muscat","Etc/GMT-4"]},{value:"Azerbaijan Standard Time",abbr:"ADT",offset:5,isdst:!0,text:"(UTC+04:00) Baku",utc:["Asia/Baku"]},{value:"Mauritius Standard Time",abbr:"MST",offset:4,isdst:!1,text:"(UTC+04:00) Port Louis",utc:["Indian/Mahe","Indian/Mauritius","Indian/Reunion"]},{value:"Georgian Standard Time",abbr:"GET",offset:4,isdst:!1,text:"(UTC+04:00) Tbilisi",utc:["Asia/Tbilisi"]},{value:"Caucasus Standard Time",abbr:"CST",offset:4,isdst:!1,text:"(UTC+04:00) Yerevan",utc:["Asia/Yerevan"]},{value:"Afghanistan Standard Time",abbr:"AST",offset:4.5,isdst:!1,text:"(UTC+04:30) Kabul",utc:["Asia/Kabul"]},{value:"West Asia Standard Time",abbr:"WAST",offset:5,isdst:!1,text:"(UTC+05:00) Ashgabat, Tashkent",utc:["Antarctica/Mawson","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Dushanbe","Asia/Oral","Asia/Samarkand","Asia/Tashkent","Etc/GMT-5","Indian/Kerguelen","Indian/Maldives"]},{value:"Yekaterinburg Time",abbr:"YEKT",offset:5,isdst:!1,text:"(UTC+05:00) Yekaterinburg",utc:["Asia/Yekaterinburg"]},{value:"Pakistan Standard Time",abbr:"PKT",offset:5,isdst:!1,text:"(UTC+05:00) Islamabad, Karachi",utc:["Asia/Karachi"]},{value:"India Standard Time",abbr:"IST",offset:5.5,isdst:!1,text:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",utc:["Asia/Kolkata","Asia/Calcutta"]},{value:"Sri Lanka Standard Time",abbr:"SLST",offset:5.5,isdst:!1,text:"(UTC+05:30) Sri Jayawardenepura",utc:["Asia/Colombo"]},{value:"Nepal Standard Time",abbr:"NST",offset:5.75,isdst:!1,text:"(UTC+05:45) Kathmandu",utc:["Asia/Kathmandu"]},{value:"Central Asia Standard Time",abbr:"CAST",offset:6,isdst:!1,text:"(UTC+06:00) Nur-Sultan (Astana)",utc:["Antarctica/Vostok","Asia/Almaty","Asia/Bishkek","Asia/Qyzylorda","Asia/Urumqi","Etc/GMT-6","Indian/Chagos"]},{value:"Bangladesh Standard Time",abbr:"BST",offset:6,isdst:!1,text:"(UTC+06:00) Dhaka",utc:["Asia/Dhaka","Asia/Thimphu"]},{value:"Myanmar Standard Time",abbr:"MST",offset:6.5,isdst:!1,text:"(UTC+06:30) Yangon (Rangoon)",utc:["Asia/Rangoon","Indian/Cocos"]},{value:"SE Asia Standard Time",abbr:"SAST",offset:7,isdst:!1,text:"(UTC+07:00) Bangkok, Hanoi, Jakarta",utc:["Antarctica/Davis","Asia/Bangkok","Asia/Hovd","Asia/Jakarta","Asia/Phnom_Penh","Asia/Pontianak","Asia/Saigon","Asia/Vientiane","Etc/GMT-7","Indian/Christmas"]},{value:"N. Central Asia Standard Time",abbr:"NCAST",offset:7,isdst:!1,text:"(UTC+07:00) Novosibirsk",utc:["Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk"]},{value:"China Standard Time",abbr:"CST",offset:8,isdst:!1,text:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",utc:["Asia/Hong_Kong","Asia/Macau","Asia/Shanghai"]},{value:"North Asia Standard Time",abbr:"NAST",offset:8,isdst:!1,text:"(UTC+08:00) Krasnoyarsk",utc:["Asia/Krasnoyarsk"]},{value:"Singapore Standard Time",abbr:"MPST",offset:8,isdst:!1,text:"(UTC+08:00) Kuala Lumpur, Singapore",utc:["Asia/Brunei","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Makassar","Asia/Manila","Asia/Singapore","Etc/GMT-8"]},{value:"W. Australia Standard Time",abbr:"WAST",offset:8,isdst:!1,text:"(UTC+08:00) Perth",utc:["Antarctica/Casey","Australia/Perth"]},{value:"Taipei Standard Time",abbr:"TST",offset:8,isdst:!1,text:"(UTC+08:00) Taipei",utc:["Asia/Taipei"]},{value:"Ulaanbaatar Standard Time",abbr:"UST",offset:8,isdst:!1,text:"(UTC+08:00) Ulaanbaatar",utc:["Asia/Choibalsan","Asia/Ulaanbaatar"]},{value:"North Asia East Standard Time",abbr:"NAEST",offset:8,isdst:!1,text:"(UTC+08:00) Irkutsk",utc:["Asia/Irkutsk"]},{value:"Japan Standard Time",abbr:"JST",offset:9,isdst:!1,text:"(UTC+09:00) Osaka, Sapporo, Tokyo",utc:["Asia/Dili","Asia/Jayapura","Asia/Tokyo","Etc/GMT-9","Pacific/Palau"]},{value:"Korea Standard Time",abbr:"KST",offset:9,isdst:!1,text:"(UTC+09:00) Seoul",utc:["Asia/Pyongyang","Asia/Seoul"]},{value:"Cen. Australia Standard Time",abbr:"CAST",offset:9.5,isdst:!1,text:"(UTC+09:30) Adelaide",utc:["Australia/Adelaide","Australia/Broken_Hill"]},{value:"AUS Central Standard Time",abbr:"ACST",offset:9.5,isdst:!1,text:"(UTC+09:30) Darwin",utc:["Australia/Darwin"]},{value:"E. Australia Standard Time",abbr:"EAST",offset:10,isdst:!1,text:"(UTC+10:00) Brisbane",utc:["Australia/Brisbane","Australia/Lindeman"]},{value:"AUS Eastern Standard Time",abbr:"AEST",offset:10,isdst:!1,text:"(UTC+10:00) Canberra, Melbourne, Sydney",utc:["Australia/Melbourne","Australia/Sydney"]},{value:"West Pacific Standard Time",abbr:"WPST",offset:10,isdst:!1,text:"(UTC+10:00) Guam, Port Moresby",utc:["Antarctica/DumontDUrville","Etc/GMT-10","Pacific/Guam","Pacific/Port_Moresby","Pacific/Saipan","Pacific/Truk"]},{value:"Tasmania Standard Time",abbr:"TST",offset:10,isdst:!1,text:"(UTC+10:00) Hobart",utc:["Australia/Currie","Australia/Hobart"]},{value:"Yakutsk Standard Time",abbr:"YST",offset:9,isdst:!1,text:"(UTC+09:00) Yakutsk",utc:["Asia/Chita","Asia/Khandyga","Asia/Yakutsk"]},{value:"Central Pacific Standard Time",abbr:"CPST",offset:11,isdst:!1,text:"(UTC+11:00) Solomon Is., New Caledonia",utc:["Antarctica/Macquarie","Etc/GMT-11","Pacific/Efate","Pacific/Guadalcanal","Pacific/Kosrae","Pacific/Noumea","Pacific/Ponape"]},{value:"Vladivostok Standard Time",abbr:"VST",offset:11,isdst:!1,text:"(UTC+11:00) Vladivostok",utc:["Asia/Sakhalin","Asia/Ust-Nera","Asia/Vladivostok"]},{value:"New Zealand Standard Time",abbr:"NZST",offset:12,isdst:!1,text:"(UTC+12:00) Auckland, Wellington",utc:["Antarctica/McMurdo","Pacific/Auckland"]},{value:"UTC+12",abbr:"U",offset:12,isdst:!1,text:"(UTC+12:00) Coordinated Universal Time+12",utc:["Etc/GMT-12","Pacific/Funafuti","Pacific/Kwajalein","Pacific/Majuro","Pacific/Nauru","Pacific/Tarawa","Pacific/Wake","Pacific/Wallis"]},{value:"Fiji Standard Time",abbr:"FST",offset:12,isdst:!1,text:"(UTC+12:00) Fiji",utc:["Pacific/Fiji"]},{value:"Magadan Standard Time",abbr:"MST",offset:12,isdst:!1,text:"(UTC+12:00) Magadan",utc:["Asia/Anadyr","Asia/Kamchatka","Asia/Magadan","Asia/Srednekolymsk"]},{value:"Kamchatka Standard Time",abbr:"KDT",offset:13,isdst:!0,text:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",utc:["Asia/Kamchatka"]},{value:"Tonga Standard Time",abbr:"TST",offset:13,isdst:!1,text:"(UTC+13:00) Nuku'alofa",utc:["Etc/GMT-13","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Tongatapu"]},{value:"Samoa Standard Time",abbr:"SST",offset:13,isdst:!1,text:"(UTC+13:00) Samoa",utc:["Pacific/Apia"]}]},9841:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validUpdateUserKeys=t.validLoginKeys=t.validRegisterKeys=void 0;const i=a(9527),{name:r,email:o,password:n,timezoneGMT:s}=i.mockUser;t.validRegisterKeys=Object.keys(i.mockUser),t.validLoginKeys=Object.keys({email:o,password:n}),t.validUpdateUserKeys=Object.keys({name:r,email:o,timezoneGMT:s})},1476:(e,t)=>{let a,i,r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.getQueueScheduler=t.setQueueScheduler=t.getQueueWorker=t.setQueueWorker=t.getRepeatOptions=t.setRepeatOptions=t.getQueue=t.setQueue=t.jobBaseName=t.queueBaseName=void 0,t.queueBaseName="pingApiScheduleQueue",t.jobBaseName="pingApisJob",t.setQueue=async function(e){a=e},t.getQueue=async function(){return a},t.setRepeatOptions=function(e){i=e},t.getRepeatOptions=async function(){return i},t.setQueueWorker=async function(e){r=e},t.getQueueWorker=async function(){return r},t.setQueueScheduler=function(e){o=e},t.getQueueScheduler=async function(){return o}},3217:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.showStats=t.getApi=t.updateApi=t.getAllApis=t.deleteApi=t.createApi=void 0;const r=a(5994),o=a(6658),n=a(5213),s=a(8037),u=a(8010),d=i(a(5445)),l=i(a(9621)),c=a(6170),f=a(6866),p=i(a(7129));t.createApi=async(e,t)=>{try{const a=await(0,p.default)(e,t);if(!a)return void(0,s.unAuthenticatedError)(t,"Invalid Credentials");if(!(0,f.validKeys)(t,Object.keys(e.body),"Invalid API creation, can only input: ",o.validCreateApiKeys))return;if((0,f.emptyValuesExist)(t,Object.values(e.body)))return;const{host:i,monitoring:r}=e.body;if(!(0,f.validValues)(t,i,"Invalid host, please select one of: ",o.validApiHostOptions))return;if(!(0,f.validValues)(t,r,"Invalid monitoring, please select one of: ",o.validApiMonitoringOptions))return;e.body.createdBy=a._id;const n=new d.default(e.body);await n.validate(),await d.default.create(n),t.status(u.StatusCodes.CREATED).json(n)}catch(e){return void(0,s.badRequestError)(t,e)}},t.getAllApis=async(e,t)=>{try{const a=await(0,p.default)(e,t);if(!a)return void(0,s.unAuthenticatedError)(t,"Invalid Credentials");if(!(0,f.validKeys)(t,Object.keys(e.query),"Invalid search params, can only use: ",o.validApiSearchParams))return;const{host:i,status:r,monitoring:l,sort:c,search:A,page:m,limit:v}=e.query,T={createdBy:a._id};if(i&&!(0,f.validValues)(t,i,"Invalid host search, please select one of: ",[...o.validApiHostOptions,"All"]))return;if(i&&"All"!==i&&(T.host=i),r&&!(0,f.validValues)(t,r,"Invalid status search, please select one of: ",[...o.validApiStatusOptions,"All"]))return;if(r&&"All"!==r&&(T.status=r),l&&!(0,f.validValues)(t,l,"Invalid monitoring search, please select one of: ",[...o.validApiMonitoringOptions,"All"]))return;l&&"All"!==l&&(T.monitoring=l),A&&(T.url={$regex:A,$options:"i"});let b=d.default.find(T),S={url:-1};c===n.ApiSortOptions.LATEST&&(S={createdAt:-1}),c===n.ApiSortOptions.OLDEST&&(S={createdAt:1}),c===n.ApiSortOptions.A_Z&&(S={url:1}),c===n.ApiSortOptions.Z_A&&(S={url:-1}),b=b.sort(S);const g=Number(m)||1,y=Number(v)||10,h=(g-1)*y;b=b.skip(h).limit(y);const M=await b,O=M.length,E=Math.ceil(O/y);t.status(u.StatusCodes.OK).json({allApis:M,totalApis:O,numOfPages:E})}catch(e){return void(0,s.badRequestError)(t,e)}},t.updateApi=async(e,t)=>{try{const a=await(0,p.default)(e,t);if(!a)return void(0,s.unAuthenticatedError)(t,"Invalid Credentials");const{id:i}=e.params;if(!i)return void(0,s.badRequestError)(t,"Please provide API id");if(!(0,f.validKeys)(t,Object.keys(e.body),"Error updating API, can only use: ",o.validUpdateApiKeys))return;if((0,f.emptyValuesExist)(t,Object.values(e.body)))return;const{host:r,monitoring:n}=e.body;if(r&&!(0,f.validValues)(t,r,"Invalid host, please select one of: ",o.validApiHostOptions))return;if(n&&!(0,f.validValues)(t,n,"Invalid monitoring, please select one of: ",o.validApiMonitoringOptions))return;const c=await d.default.findOne({_id:i});if(!c)return void(0,s.notFoundError)(t,`No API with id: ${i}`);(0,l.default)(t,a._id,c.createdBy),Object.assign(c,e.body),await c.validate(),await c.save(),t.status(u.StatusCodes.OK).json(c)}catch(e){return void(0,s.badRequestError)(t,e)}},t.deleteApi=async(e,t)=>{try{const a=await(0,p.default)(e,t);if(!a)return void(0,s.unAuthenticatedError)(t,"Invalid Credentials");const{id:i}=e.params;if(!i)return void(0,s.badRequestError)(t,"Please provide API id");const o=await d.default.findOne({_id:i});if(!o)return void(0,s.notFoundError)(t,`No API with id: ${i}`);(0,l.default)(t,a._id,o.createdBy),await o.remove(),t.status(u.StatusCodes.OK).json(r.deleteApiSuccessMsg)}catch(e){return void(0,s.badRequestError)(t,e)}},t.getApi=async(e,t)=>{try{const a=await(0,p.default)(e,t);if(!a)return void(0,s.unAuthenticatedError)(t,"Invalid Credentials");const{id:i}=e.params;if(!i)return void(0,s.badRequestError)(t,"Please provide API id");const r=await d.default.findOne({_id:i});if(!r)return void(0,s.notFoundError)(t,`No API with id: ${i}`);(0,l.default)(t,a._id,r.createdBy),t.status(u.StatusCodes.OK).json(r)}catch(e){return void(0,s.badRequestError)(t,e)}};let A=[{date:"",count:0}];t.showStats=async(e,t)=>{try{const a=await(0,p.default)(e,t);if(!a)return void(0,s.unAuthenticatedError)(t,"Invalid Credentials");const i=a._id,r=(await d.default.aggregate([{$match:{createdBy:i}},{$group:{_id:"$status",count:{$sum:1}}}])).reduce(((e,t)=>{const{_id:a,count:i}=t;return e[a]=i,e}),{}),o={healthy:r.healthy||0,unhealthy:r.unhealthy||0,pending:r.pending||0},n=await d.default.aggregate([{$match:{createdBy:i}},{$group:{_id:{year:{$year:"$createdAt"},month:{$month:"$createdAt"}},count:{$sum:1}}},{$sort:{"_id.year":-1,"_id.month":-1}},{$limit:6}]);n.length>0&&(A=n.map((e=>{const{_id:{year:t,month:a},count:i}=e;return{date:(0,c.formatCurrentMonthYear)(t,a),count:i}})).reverse()),t.status(u.StatusCodes.OK).json({defaultStats:o,monthlyApis:A})}catch(e){return void(0,s.badRequestError)(t,e)}}},9014:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.refreshAccessToken=t.updateUser=t.login=t.register=void 0;const r=a(5975),o=a(4571),n=a(9841),s=i(a(5142)),u=a(8037),d=a(8010),l=i(a(9344)),c=i(a(9153)),f=a(6866),p=i(a(7129));s.default.config();const{JWT_ACCESS_TOKEN_LIFETIME:A,JWT_REFRESH_TOKEN_LIFETIME:m}=process.env;t.register=async(e,t)=>{try{if(!(0,f.validKeys)(t,Object.keys(e.body),"Invalid register, can only use: ",n.validRegisterKeys))return;if((0,f.emptyValuesExist)(t,Object.values(e.body)))return;const{email:a,timezoneGMT:i}=e.body;if(!(0,f.validValues)(t,i,"Invalid timezone, please select one of: ",o.timezoneOffsets))return;if(await c.default.findOne({email:a}))return void(0,u.badRequestError)(t,"Please use a different email");const s=new c.default(e.body);await s.validate(),await c.default.create(s);const l=s.createJWT(A),p=s.createJWT(m);t.cookie(r.cookieName,p,{maxAge:r.cookieExpiryTime,secure:r.cookieSecureSetting,httpOnly:r.cookieHttpOnlySetting,sameSite:r.cookieSameSiteSetting}).status(d.StatusCodes.CREATED).json({user:{email:s.email,name:s.name,timezoneGMT:s.timezoneGMT},accessToken:l})}catch(e){return void(0,u.badRequestError)(t,e)}},t.login=async(e,t)=>{try{if(!(0,f.validKeys)(t,Object.keys(e.body),"Invalid login, can only use: ",n.validLoginKeys))return;if((0,f.emptyValuesExist)(t,Object.values(e.body)))return;const{email:a,password:i}=e.body,o=await c.default.findOne({email:a}).select("+password");if(!o)return void(0,u.unAuthenticatedError)(t,"Invalid Credentials");if(!await o.comparePassword(i,o.password))return void(0,u.unAuthenticatedError)(t,"Incorrect Credentials");const s=o.createJWT(A),l=o.createJWT(m);o.password="",t.cookie(r.cookieName,l,{maxAge:r.cookieExpiryTime,secure:r.cookieSecureSetting,httpOnly:r.cookieHttpOnlySetting,sameSite:r.cookieSameSiteSetting}).status(d.StatusCodes.OK).json({user:{email:o.email,name:o.name,timezoneGMT:o.timezoneGMT},accessToken:s})}catch(e){return void(0,u.badRequestError)(t,e)}},t.updateUser=async(e,t)=>{try{const a=await(0,p.default)(e,t);if(!a)return void(0,u.unAuthenticatedError)(t,"Invalid Credentials");if(!(0,f.validKeys)(t,Object.keys(e.body),"Invalid update, can only update: ",n.validUpdateUserKeys))return;if((0,f.emptyValuesExist)(t,Object.values(e.body)))return;const{email:i,timezoneGMT:s}=e.body;if(s&&!(0,f.validValues)(t,s,"Invalid timezone, please select one of: ",o.timezoneOffsets))return;if(i&&a.email!==i&&await c.default.findOne({email:i}))return void(0,u.badRequestError)(t,"Please use a different email");Object.assign(a,e.body),await a.validate(),await a.save();const l=a.createJWT(A),v=a.createJWT(m);t.cookie(r.cookieName,v,{maxAge:r.cookieExpiryTime,secure:r.cookieSecureSetting,httpOnly:r.cookieHttpOnlySetting,sameSite:r.cookieSameSiteSetting}).status(d.StatusCodes.OK).json({user:{email:a.email,name:a.name,timezoneGMT:a.timezoneGMT},accessToken:l})}catch(e){return void(0,u.badRequestError)(t,e)}},t.refreshAccessToken=async(e,t)=>{try{if(!e.cookies)return void(0,u.badRequestError)(t,"Cookies missing");const a=e.cookies[r.cookieName];if(!a)return void(0,u.unAuthenticatedError)(t,"Invalid credentials, please login again");let i;try{i=l.default.verify(a,process.env.JWT_SECRET)}catch(e){return void(0,u.unAuthenticatedError)(t,"Please login again")}const o=await c.default.findOne({_id:i.userId});if(!o)return void(0,u.unAuthenticatedError)(t,"Invalid user credentials");const n=o.createJWT(A);t.status(d.StatusCodes.OK).json({accessToken:n})}catch(e){return void(0,u.badRequestError)(t,e)}}},1885:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateMonitor=t.getMonitor=t.deleteMonitor=t.createMonitor=void 0;const r=a(5994),o=a(3367),n=a(8801),s=a(8037),u=a(8010),d=i(a(8933)),l=a(6866),c=a(5703),f=i(a(7129));t.createMonitor=async(e,t)=>{try{const a=await(0,f.default)(e,t);if(!a)return void(0,s.unAuthenticatedError)(t,"Invalid Credentials");if(await d.default.findOne({createdBy:a._id}))return void(0,s.badRequestError)(t,"Error, can only have one monitor, please turn off to remove");if(!(0,l.validKeys)(t,Object.keys(e.body),"Invalid monitor creation, can only input: ",o.validCreateMonitorKeys))return;if((0,l.emptyValuesExist)(t,Object.values(e.body)))return;const{monitorSetting:i,scheduleType:r,intervalSchedule:p,dateDayOfWeek:A,dateHour:m,dateMinute:v,dateAMOrPM:T}=e.body;if(!(0,l.validValues)(t,i,"Invalid monitor setting, please select one of: ",o.validMonitorSettingOptions))return;if(i!==n.MonitorSettingOptions.ON)return void(0,s.badRequestError)(t,"Monitor setting must be on to add monitor");if(!(0,l.validValues)(t,r,"Invalid schedule type, please select one of: ",o.validMonitorScheduleTypeOptions))return;if(r===n.MonitorScheduleTypeOptions.INTERVAL&&!(0,l.validValues)(t,p,"Invalid interval schedule, please select one of: ",o.validMonitorIntervalScheduleOptions))return;if(r===n.MonitorScheduleTypeOptions.DATE&&!(0,c.validMonitorDate)(t,A,m,v,T))return;e.body.createdBy=a._id;const b=new d.default(e.body);await b.validate(),await d.default.create(b),t.status(u.StatusCodes.CREATED).json(b)}catch(e){return void(0,s.badRequestError)(t,e)}},t.getMonitor=async(e,t)=>{try{const a=await(0,f.default)(e,t);if(!a)return void(0,s.unAuthenticatedError)(t,"Invalid Credentials");let i;i=await d.default.findOne({createdBy:a._id})||{monitorSetting:n.MonitorSettingOptions.OFF,scheduleType:n.MonitorScheduleTypeOptions.INTERVAL,intervalSchedule:n.MonitorIntervalScheduleOptions.WEEKLY,dateDayOfWeek:0,dateHour:0,dateMinute:0,dateAMOrPM:n.MonitorDateAMOrPMOptions.AM},t.status(u.StatusCodes.OK).json(i)}catch(e){return void(0,s.badRequestError)(t,e)}},t.updateMonitor=async(e,t)=>{try{const a=await(0,f.default)(e,t);if(!a)return void(0,s.unAuthenticatedError)(t,"Invalid Credentials");const i=await d.default.findOne({createdBy:a._id});if(!i)return void(0,s.notFoundError)(t,"No monitor found");if(!(0,l.validKeys)(t,Object.keys(e.body),"Error updating monitor, can only use: ",o.validUpdateMonitorKeys))return;if((0,l.emptyValuesExist)(t,Object.values(e.body)))return;const{scheduleType:r,intervalSchedule:p,dateDayOfWeek:A,dateHour:m,dateMinute:v,dateAMOrPM:T}=e.body;if(r&&!(0,l.validValues)(t,r,"Invalid schedule type, please select one of: ",o.validMonitorScheduleTypeOptions))return;if(r===n.MonitorScheduleTypeOptions.INTERVAL&&!(0,l.validValues)(t,p,"Invalid interval schedule, please select one of: ",o.validMonitorIntervalScheduleOptions))return;if(r===n.MonitorScheduleTypeOptions.DATE&&!(0,c.validMonitorDate)(t,A,m,v,T))return;Object.assign(i,e.body),await i.validate(),await i.save(),t.status(u.StatusCodes.OK).json(i)}catch(e){return void(0,s.badRequestError)(t,e)}},t.deleteMonitor=async(e,t)=>{const a=await(0,f.default)(e,t);if(!a)return void(0,s.unAuthenticatedError)(t,"Invalid Credentials");const i=await d.default.findOne({createdBy:a._id});i?i.monitorSetting!==n.MonitorSettingOptions.ON?(await i.remove(),t.status(u.StatusCodes.OK).json(r.deleteMonitorSuccessMsg)):(0,s.badRequestError)(t,"Monitor setting must be off to remove monitor"):(0,s.notFoundError)(t,"Error, no monitor found")}},7007:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.pingOne=t.pingAll=void 0;const r=i(a(2167)),o=a(5994),n=a(5213),s=a(8037),u=a(8010),d=i(a(5445)),l=i(a(9621)),c=a(6170),f=i(a(7129));t.pingAll=async(e,t)=>{try{const a=await(0,f.default)(e,t);if(!a)return void(0,s.unAuthenticatedError)(t,"Invalid Credentials");const i=await d.default.find({createdBy:a._id});if(!(i&&i.length>0))return void(0,s.notFoundError)(t,"No APIs found");Object.keys(i).forEach((async(e,t)=>{try{const e=await r.default.get(i[t].url);e&&200===e.status&&await d.default.findOneAndUpdate({_id:i[t].id},{status:n.ApiStatusOptions.HEALTHY,lastPinged:(0,c.getDateWithUTCOffset)(a.timezoneGMT)},{new:!0,runValidators:!0})}catch(e){await d.default.findOneAndUpdate({_id:i[t].id},{status:n.ApiStatusOptions.UNHEALTHY,lastPinged:(0,c.getDateWithUTCOffset)(a.timezoneGMT)},{new:!0,runValidators:!0})}})),t.status(u.StatusCodes.OK).json(o.pingAllApisSuccessMsg)}catch(e){return void(0,s.badRequestError)(t,e)}},t.pingOne=async(e,t)=>{try{const a=await(0,f.default)(e,t);if(!a)return void(0,s.unAuthenticatedError)(t,"Invalid Credentials");const{id:i}=e.params,p=await d.default.findOne({_id:i});if(!p)return void(0,s.notFoundError)(t,`No API with id: ${i}`);(0,l.default)(t,a._id,p.createdBy);try{const e=await r.default.get(p.url);e&&200===e.status&&await d.default.findOneAndUpdate({_id:p.id},{status:n.ApiStatusOptions.HEALTHY,lastPinged:(0,c.getDateWithUTCOffset)(a.timezoneGMT)},{new:!0,runValidators:!0})}catch(e){await d.default.findOneAndUpdate({_id:p.id},{status:n.ApiStatusOptions.UNHEALTHY,lastPinged:(0,c.getDateWithUTCOffset)(a.timezoneGMT)},{new:!0,runValidators:!0})}t.status(u.StatusCodes.OK).json(o.pingOneApiSuccessMsg)}catch(e){return void(0,s.badRequestError)(t,e)}}},1089:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.removeQueue=t.startQueue=t.redisConfiguration=void 0;const r=i(a(2167)),o=a(7807),n=a(1476),s=i(a(5142)),u=a(5213),d=a(8801),l=a(8037),c=a(8010),f=i(a(1495)),p=i(a(5445)),A=i(a(8933)),m=a(6170),v=i(a(7129));s.default.config();const{REDIS_HOST:T,REDIS_PORT:b,REDIS_USERNAME:S,NODE_ENV:g,REDIS_PASSWORD:y}=process.env,h="production"===g,M="test"===g;t.redisConfiguration={connection:new f.default({host:T,port:parseInt(b),username:h?S:void 0,password:h?y:void 0,maxRetriesPerRequest:null}),sharedConnection:!0},t.startQueue=async(e,a)=>{try{const i=await(0,v.default)(e,a);if(!i)return void(0,l.unAuthenticatedError)(a,"Invalid Credentials");const s=`${n.queueBaseName}-${i.email}`,f=`${n.jobBaseName}-${i.email}`,T=await A.default.findOne({createdBy:i._id});if(!T)return void(0,l.notFoundError)(a,"No monitor found");if(T.monitorSetting!==d.MonitorSettingOptions.ON)return void(0,l.badRequestError)(a,"Monitor must be on to start queue");const{scheduleType:b,intervalSchedule:S,dateDayOfWeek:g,dateHour:y,dateMinute:h,dateAMOrPM:O}=T;if(b===d.MonitorScheduleTypeOptions.DATE){let D=y;12===y&&O===d.MonitorDateAMOrPMOptions.AM&&(D=y-12),12!==y&&O===d.MonitorDateAMOrPMOptions.PM&&(D=y+12),12===y&&O===d.MonitorDateAMOrPMOptions.PM&&(D=y),(0,n.setRepeatOptions)({cron:`* ${h} ${D} * * ${g}`,limit:1})}if(b===d.MonitorScheduleTypeOptions.INTERVAL)switch(S){case d.MonitorIntervalScheduleOptions.WEEKLY:(0,n.setRepeatOptions)({every:6048e5,limit:1});break;case d.MonitorIntervalScheduleOptions.DAILY:(0,n.setRepeatOptions)({every:864e5,limit:1});break;case d.MonitorIntervalScheduleOptions.HOURLY:(0,n.setRepeatOptions)({every:36e5,limit:1});break;case d.MonitorIntervalScheduleOptions.MINUTES:(0,n.setRepeatOptions)({every:6e4,limit:1});break;default:(0,n.setRepeatOptions)({every:864e5,limit:1})}(0,n.setQueue)(new o.Queue(s,t.redisConfiguration));const E=await(0,n.getQueue)(),C=await(0,n.getRepeatOptions)();async function U(e){console.log(e),await E.add(f,{jobDetails:e},{repeat:C})}(0,n.setQueueScheduler)(new o.QueueScheduler(s,t.redisConfiguration));const _=await p.default.find({createdBy:i._id,monitoring:u.ApiMonitoringOptions.ON});if(!(_&&_.length>0))return void(0,l.notFoundError)(a,"No APIs found");async function k(){Object.keys(_).forEach((async(e,t)=>{try{const e=await r.default.get(_[t].url);e&&200===e.status&&await p.default.findOneAndUpdate({_id:_[t].id},{status:u.ApiStatusOptions.HEALTHY,lastPinged:(0,m.getDateWithUTCOffset)(i.timezoneGMT)},{new:!0,runValidators:!0})}catch(e){await p.default.findOneAndUpdate({_id:_[t].id},{status:u.ApiStatusOptions.UNHEALTHY,lastPinged:(0,m.getDateWithUTCOffset)(i.timezoneGMT)},{new:!0,runValidators:!0})}}))}if(b===d.MonitorScheduleTypeOptions.INTERVAL&&U(`Ping apis for user at ${S}`),b===d.MonitorScheduleTypeOptions.DATE){const w=h<10?`0${h}`:h;U(`Ping apis for user at ${d.MonitorDateDayOfWeekOptions[g]} ${y}:${w} ${O}`)}(0,n.setQueueWorker)(new o.Worker(s,k,t.redisConfiguration));const P=await(0,n.getQueueWorker)();P.on("completed",(async e=>{M||console.log(`Job ${e.id} has completed!`)})),P.on("failed",(async(e,t)=>{M||console.error(`Job ${e.id} has failed with ${t.message}`)})),a.status(c.StatusCodes.OK).json({msg:"Started monitoring in queue!"})}catch(I){return void(0,l.badRequestError)(a,I)}},t.removeQueue=async(e,t)=>{try{const a=await(0,v.default)(e,t);if(!a)return void(0,l.unAuthenticatedError)(t,"Invalid Credentials");if(await A.default.findOne({createdBy:a._id}))return void(0,l.badRequestError)(t,"Monitor must be deleted to stop queue");const i=await(0,n.getQueue)();if(!i)return void t.status(c.StatusCodes.OK).json({msg:"Monitoring stopped"});await i.obliterate(),await i.close(),t.status(c.StatusCodes.OK).json({msg:"Stopped monitoring and removed queue"})}catch(e){return void(0,l.badRequestError)(t,e)}}},1028:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(a(1185));t.default=e=>r.default.connect(e)},1007:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.seedApiCollection=t.seedUsersCollection=t.resetMonitorCollection=t.resetApiCollection=t.resetUsersCollection=void 0;const r=i(a(5142)),o=a(8037);a(1124),a(9527),i(a(5445)),i(a(8933)),i(a(9153)),i(a(7129)),r.default.config(),t.resetUsersCollection=async(e,t)=>{try{return void(0,o.badRequestError)(t,"Can only seed db in testing")}catch(e){return console.log(e),void(0,o.badRequestError)(t,e)}},t.resetApiCollection=async(e,t)=>{try{return void(0,o.badRequestError)(t,"Can only seed db in testing")}catch(e){return console.log(e),void(0,o.badRequestError)(t,e)}},t.resetMonitorCollection=async(e,t)=>{try{return void(0,o.badRequestError)(t,"Can only seed db in testing")}catch(e){return console.log(e),void(0,o.badRequestError)(t,e)}},t.seedUsersCollection=async(e,t)=>{try{return void(0,o.badRequestError)(t,"Can only seed db in testing")}catch(e){return console.log(e),void(0,o.badRequestError)(t,e)}},t.seedApiCollection=async(e,t)=>{(0,o.badRequestError)(t,"Can only seed db in testing")}},5213:(e,t)=>{var a,i,r,o,n;Object.defineProperty(t,"__esModule",{value:!0}),t.ApiQueryParamsEnum=t.ApiStatusOptions=t.ApiSortOptions=t.ApiMonitoringOptions=t.ApiHostOptions=void 0,(n=t.ApiHostOptions||(t.ApiHostOptions={})).AWS="AWS",n.GCP="GCP",n.AZURE="Azure",n.HEROKU="Heroku",n.DIGITALOCEAN="DigitalOcean",n.VERCEL="Vercel",n.NETLIFY="Netlify",n.OTHER="Other",(o=t.ApiMonitoringOptions||(t.ApiMonitoringOptions={})).ON="on",o.OFF="off",(r=t.ApiSortOptions||(t.ApiSortOptions={})).LATEST="Latest",r.OLDEST="Oldest",r.A_Z="A-Z",r.Z_A="Z-A",(i=t.ApiStatusOptions||(t.ApiStatusOptions={})).HEALTHY="healthy",i.UNHEALTHY="unhealthy",i.PENDING="pending",(a=t.ApiQueryParamsEnum||(t.ApiQueryParamsEnum={})).STATUS="status",a.MONITORING="monitoring",a.SORT="sort",a.SEARCH="search",a.PAGE="page",a.LIMIT="limit",a.HOST="host"},8801:(e,t)=>{var a,i,r,o,n;Object.defineProperty(t,"__esModule",{value:!0}),t.MonitorDateDayOfWeekOptions=t.MonitorSettingOptions=t.MonitorDateAMOrPMOptions=t.MonitorScheduleTypeOptions=t.MonitorIntervalScheduleOptions=void 0,(n=t.MonitorIntervalScheduleOptions||(t.MonitorIntervalScheduleOptions={})).WEEKLY="weekly",n.DAILY="daily",n.HOURLY="hourly",n.MINUTES="minutes",(o=t.MonitorScheduleTypeOptions||(t.MonitorScheduleTypeOptions={})).INTERVAL="Interval",o.DATE="Date",(r=t.MonitorDateAMOrPMOptions||(t.MonitorDateAMOrPMOptions={})).AM="AM",r.PM="PM",(i=t.MonitorSettingOptions||(t.MonitorSettingOptions={})).ON="ON",i.OFF="OFF",(a=t.MonitorDateDayOfWeekOptions||(t.MonitorDateDayOfWeekOptions={}))[a.Sunday=0]="Sunday",a[a.Monday=1]="Monday",a[a.Tuesday=2]="Tuesday",a[a.Wednesday=3]="Wednesday",a[a.Thursday=4]="Thursday",a[a.Friday=5]="Friday",a[a.Saturday=6]="Saturday"},8037:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.notFoundError=t.forbiddenError=t.unAuthenticatedError=t.badRequestError=void 0;const i=a(8010);t.badRequestError=(e,t)=>{e.status(i.StatusCodes.BAD_REQUEST).json({error:`${t}`})},t.unAuthenticatedError=(e,t)=>{e.status(i.StatusCodes.UNAUTHORIZED).json({error:`${t}`})},t.forbiddenError=(e,t)=>{e.status(i.StatusCodes.FORBIDDEN).json({error:`${t}`})},t.notFoundError=(e,t)=>{e.status(i.StatusCodes.NOT_FOUND).json({error:`${t}`})}},5566:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(5975),o=a(8037),n=i(a(9344));t.default=async(e,t,a)=>{const i=e.headers.authorization,s=e.cookies[r.cookieName];if(!i||!i.startsWith("Bearer")||!s)return void(0,o.unAuthenticatedError)(t,"Invalid credentials, please login again");const u=i.split(" ")[1];try{const t=n.default.verify(u,process.env.JWT_SECRET);n.default.verify(s,process.env.JWT_SECRET),e.user={userId:t.userId},a()}catch(e){return void(0,o.unAuthenticatedError)(t,"Error in credentials, please login again")}}},1271:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=a(8010);t.default=(e,t,a,r)=>{const o={statusCode:e.statusCode||i.StatusCodes.INTERNAL_SERVER_ERROR,msg:e.message||"Something went wrong, try again later"};"ValidationError"===e.name&&(o.statusCode=i.StatusCodes.BAD_REQUEST,o.msg=Object.values(e.errors).map((e=>e.message)).join(",")),e.code&&11e3===e.code&&(o.statusCode=i.StatusCodes.BAD_REQUEST,o.msg=`${Object.keys(e.keyValue)} field has to be unique`),a.status(o.statusCode).json({msg:o.msg}),r()}},8419:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkValidationResult=t.createValidationFor=void 0;const i=a(4899),r=a(3553);t.createValidationFor=function(e){switch(e){case i.registerUserUrl:return[(0,r.check)("email").isEmail().withMessage("Please enter a valid email"),(0,r.check)("password").isLength({min:6}).withMessage("Please enter a password at least 6 characters long")];case i.updateUserUrl:return[(0,r.check)("email").isEmail().withMessage("Please enter a valid email")];default:return[]}},t.checkValidationResult=function(e,t,a){const i=(0,r.validationResult)(e);if(i.isEmpty())return a();const o=i.array()[0].msg;t.status(400).json({error:o})}},7223:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t,a)=>{t.status(404).json({error:"Route does not exist"}),a()}},3949:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mockApi=void 0;const i=a(5213);t.mockApi={url:"https://www.notarealwebsitehopefully4.com/ping",host:i.ApiHostOptions.HEROKU,monitoring:i.ApiMonitoringOptions.ON}},1124:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mockApis=void 0;const i=a(5213);t.mockApis=[{url:"https://battery-cellify.herokuapp.com/ping",host:i.ApiHostOptions.HEROKU,status:i.ApiStatusOptions.PENDING,lastPinged:"Never pinged",monitoring:i.ApiMonitoringOptions.ON},{url:"https://www.hello-herokuapp2.com/ping",host:i.ApiHostOptions.HEROKU,status:i.ApiStatusOptions.PENDING,lastPinged:"Never pinged",monitoring:i.ApiMonitoringOptions.OFF},{url:"https://www.not1arealwebsitehopefully1.com/ping",host:i.ApiHostOptions.HEROKU,status:i.ApiStatusOptions.PENDING,lastPinged:"Never pinged",monitoring:i.ApiMonitoringOptions.ON},{url:"https://www.not1arealwebsitehopefully2.com/ping",host:i.ApiHostOptions.AWS,status:i.ApiStatusOptions.PENDING,lastPinged:"Never pinged",monitoring:i.ApiMonitoringOptions.ON},{url:"https://www.not1arealwebsitehopefully3.com/ping",host:i.ApiHostOptions.AWS,status:i.ApiStatusOptions.PENDING,lastPinged:"Never pinged",monitoring:i.ApiMonitoringOptions.ON}]},4871:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mockMonitor=void 0;const i=a(8801);t.mockMonitor={monitorSetting:i.MonitorSettingOptions.OFF,scheduleType:i.MonitorScheduleTypeOptions.INTERVAL,intervalSchedule:i.MonitorIntervalScheduleOptions.HOURLY,dateDayOfWeek:i.MonitorDateDayOfWeekOptions.Sunday,dateHour:1,dateMinute:0,dateAMOrPM:i.MonitorDateAMOrPMOptions.AM}},9527:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mockUser=void 0,t.mockUser={name:"jane",email:"janedoe1@gmail.com",password:"password",timezoneGMT:-4}},5445:function(e,t,a){var i=this&&this.__createBinding||(Object.create?function(e,t,a,i){void 0===i&&(i=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,i,r)}:function(e,t,a,i){void 0===i&&(i=a),e[i]=t[a]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&i(t,e,a);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const n=a(6658),s=a(5213),u=o(a(1185)),d=new u.default.Schema({url:{type:String,required:[!0,"Please provide API URL"]},host:{type:String,enum:n.validApiHostOptions,default:s.ApiHostOptions.OTHER},status:{type:String,enum:n.validApiStatusOptions,default:s.ApiStatusOptions.PENDING},lastPinged:{type:String,required:[!0,"Please provide last ping date and time"],default:"Never pinged"},monitoring:{type:String,enum:n.validApiMonitoringOptions,default:s.ApiMonitoringOptions.OFF},createdBy:{type:u.Schema.Types.ObjectId,ref:"User",required:[!0,"Please provide user"]}},{timestamps:!0}),l=u.default.model("ApiCollection",d);t.default=l},8933:function(e,t,a){var i=this&&this.__createBinding||(Object.create?function(e,t,a,i){void 0===i&&(i=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,i,r)}:function(e,t,a,i){void 0===i&&(i=a),e[i]=t[a]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&i(t,e,a);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const n=a(3367),s=a(8801),u=o(a(1185)),d=new u.default.Schema({monitorSetting:{type:String,required:[!0,"Please specify if monitor is on or off"],default:s.MonitorSettingOptions.OFF},scheduleType:{type:String,required:[!0,"Please specify schedule type"],default:s.MonitorScheduleTypeOptions.INTERVAL},intervalSchedule:{type:String,enum:n.validMonitorIntervalScheduleOptions,default:s.MonitorIntervalScheduleOptions.WEEKLY},dateDayOfWeek:{type:Number,enum:n.validMonitorDateDayOfWeekOptions,default:s.MonitorDateDayOfWeekOptions.Sunday},dateHour:{type:Number,enum:n.validMonitorDateHourOptions,default:12},dateMinute:{type:Number,enum:n.validMonitorDateMinuteOptions,default:0},dateAMOrPM:{type:String,enum:n.validMonitorDateAMorPMOptions,default:s.MonitorDateAMOrPMOptions.AM},createdBy:{type:u.Schema.Types.ObjectId,ref:"User",required:[!0,"Please provide user"]}},{timestamps:!0}),l=u.default.model("Monitor",d);t.default=l},9153:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(a(8432)),o=a(4571),n=i(a(9344)),s=i(a(1185)),u=i(a(1564)),d=new s.default.Schema({name:{type:String,required:[!0,"Please provide name"],minlength:3,maxlength:20,trim:!0},email:{type:String,required:[!0,"Please provide email"],validate:{validator:u.default.isEmail,message:"Please provide a valid email"}},password:{type:String,required:[!0,"Please provide password"],minlength:6,select:!1},timezoneGMT:{type:Number,enum:o.timezoneOffsets,default:0}});d.pre("save",(async function(){if(!this.isModified("password"))return;const e=await r.default.genSalt(10);this.password=await r.default.hash(this.password,e)})),d.methods.createJWT=function(e){return n.default.sign({userId:this._id},process.env.JWT_SECRET,{expiresIn:e})},d.methods.comparePassword=async function(e,t){return await r.default.compare(e,t)};const l=s.default.model("User",d);t.default=l},9316:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(4899),o=a(3217),n=a(7007),s=a(6860),u=i(a(6985)),d=(0,s.Router)();function l(e,t){return(0,u.default)({windowMs:60*e*1e3,max:t,handler:(t,a)=>{a.status(429).json({msg:`Too many requests from this IP, please try again after ${e} minutes`})}})}d.route(`${r.createApiUrl}`).post(l(15,10),o.createApi),d.route(`${r.getAllApisUrl}`).get(o.getAllApis),d.route(`${r.getAllApisStatsUrl}`).get(o.showStats),d.route(`${r.deleteApiUrl}/:id`).delete(o.deleteApi),d.route(`${r.editApiUrl}/:id`).patch(o.updateApi),d.route(`${r.getApiUrl}/:id`).get(o.getApi),d.route(`${r.pingAllApisUrl}`).post(l(15,10),n.pingAll),d.route(`${r.pingOneApiUrl}/:id`).post(l(15,10),n.pingOne),t.default=d},2011:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(4899),o=a(9014),n=i(a(6860)),s=i(a(6985)),u=i(a(5566)),d=a(8419),l=n.default.Router();function c(e,t){return(0,s.default)({windowMs:60*e*1e3,max:t,handler:(t,a)=>{a.status(429).json({msg:`Too many requests from this IP, please try again after ${e} minutes`})}})}l.route(`${r.registerUserUrl}`).post(c(15,3),(0,d.createValidationFor)(`${r.registerUserUrl}`),d.checkValidationResult,o.register),l.route(`${r.loginUserUrl}`).post(c(15,10),o.login),l.route(`${r.updateUserUrl}`).patch(u.default,(0,d.createValidationFor)(`${r.updateUserUrl}`),d.checkValidationResult,o.updateUser),l.route(`${r.refreshAccessTokenUrl}`).get(o.refreshAccessToken),t.default=l},8497:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(4899),o=a(1885),n=i(a(6860)),s=i(a(6985)),u=n.default.Router();u.route(`${r.handleMonitorUrl}`).post((15,10,(0,s.default)({windowMs:9e5,max:10,handler:(e,t)=>{t.status(429).json({msg:"Too many requests from this IP, please try again after 15 minutes"})}})),o.createMonitor).get(o.getMonitor).patch(o.updateMonitor).delete(o.deleteMonitor),t.default=u},2250:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(4899),o=a(1089),n=a(6860),s=i(a(6985)),u=(0,n.Router)();function d(e,t){return(0,s.default)({windowMs:60*e*1e3,max:t,handler:(t,a)=>{a.status(429).json({msg:`Too many requests from this IP, please try again after ${e} minutes`})}})}u.route(`${r.handleQueueUrl}`).post(d(15,2),o.startQueue).delete(d(15,2),o.removeQueue),t.default=u},7585:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(a(6860)),o=i(a(5566)),n=a(1007),s=a(4899),u=r.default.Router();u.route(`${s.resetMockUsersDbUrl}`).delete(n.resetUsersCollection),u.route(`${s.resetMockApisDbUrl}`).delete(n.resetApiCollection),u.route(`${s.resetMockMonitorDbUrl}`).delete(n.resetMonitorCollection),u.route(`${s.seedMockUsersDbUrl}`).post(n.seedUsersCollection),u.route(`${s.seedMockApisDbUrl}`).post(o.default,n.seedApiCollection),t.default=u},7728:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(4899),o=a(5994),n=i(a(9710)),s=i(a(3582)),u=i(a(1028)),d=i(a(5142)),l=a(9381),c=i(a(6860));a(5383);const f=i(a(2821)),p=i(a(9770)),A=i(a(7806)),m=i(a(5566)),v=i(a(1271)),T=i(a(7223)),b=(i(a(9470)),i(a(9316))),S=i(a(2011)),g=i(a(8497)),y=i(a(2250)),h=(i(a(7585)),i(a(7396))),M=(0,c.default)();d.default.config();const O=(0,l.makeValidator)((e=>{if(e)return(0,l.str)();throw new Error("Value is empty")})),E=(0,l.makeValidator)((e=>{if(e)return(0,l.str)({choices:["development","test","production","staging"]});throw new Error("Value is empty")})),C=(0,l.makeValidator)((e=>{if(e)return(0,l.str)({choices:["no","yes"]});throw new Error("Value is empty")}));(0,l.cleanEnv)(process.env,{MONGO_URL:O(),JWT_SECRET:O(),JWT_ACCESS_TOKEN_LIFETIME:O(),JWT_REFRESH_TOKEN_LIFETIME:O(),NODE_ENV:E(),CORS_ORIGIN:O(),REDIS_HOST:O(),REDIS_PORT:(0,l.port)(),USING_CI:C()}),(0,l.cleanEnv)(process.env,{REDIS_USERNAME:O(),REDIS_PASSWORD:O()}),M.use(c.default.json()),M.use((0,A.default)()),M.use((0,h.default)()),M.use((0,f.default)()),M.use((0,s.default)({origin:[process.env.CORS_ORIGIN],credentials:!0})),M.use((0,n.default)()),M.use(r.pingHealthCheckUrl,((e,t)=>{t.send(o.pingHealthCheckSuccessMsg)})),M.use(`${r.baseAuthUrl}`,S.default),M.use(`${r.baseApiUrl}`,m.default,b.default),M.use(`${r.baseMonitorUrl}`,m.default,g.default),M.use(`${r.baseQueueUrl}`,m.default,y.default),M.use(T.default),M.use(v.default),(async()=>{try{const e=await(0,p.default)({port:5e3});M.listen(e,(async()=>{console.log(`Server is listening on port ${e}...`)})),await(0,u.default)(process.env.MONGO_URL)}catch(e){throw console.log(e),new Error("Error starting app")}})(),t.default=M},9621:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=a(8037);t.default=(e,t,a)=>t.toString()!==a.toString()?void(0,i.unAuthenticatedError)(e,"Not authorized to access"):void 0},6170:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatCurrentMonthYear=t.getDateWithUTCOffset=void 0,t.getDateWithUTCOffset=function(e,t=!0){try{const a=Date.now()+1e3*(new Date).getTimezoneOffset()*60+36e5*e;return`${new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:t?"medium":void 0}).format(a)} (GMT ${e})`}catch(e){return console.error("Error getting date: ",e),"Error getting date"}},t.formatCurrentMonthYear=function(e,t){const a=new Date(Date.UTC(e,t));return new Intl.DateTimeFormat("en-US",{month:"short",year:"numeric"}).format(a)}},6866:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.emptyValuesExist=t.validValues=t.validKeys=void 0;const i=a(8037);t.validKeys=function(e,t,a,r){return t.every((e=>r.includes(e)))?(o=t,new Set(o).size===o.length||((0,i.badRequestError)(e,"Duplicate info, please only provide one of each field"),!1)):((0,i.badRequestError)(e,`${a}`+`${r}`.replace(/,/g,", ")),!1);var o},t.validValues=function(e,t,a,r,o){return o&&!r.includes(t)?((0,i.badRequestError)(e,`${a}`+`${o}`.replace(/,/g,", ")),!1):!!r.includes(t)||((0,i.badRequestError)(e,`${a}`+`${r}`.replace(/,/g,", ")),!1)},t.emptyValuesExist=function(e,t){return!t.every((e=>null!=e&&""!==e))&&((0,i.badRequestError)(e,"Please fill out all values"),!0)}},5703:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validMonitorDate=void 0;const i=a(3367),r=a(6866);t.validMonitorDate=function(e,t,a,o,n){return!!((0,r.validValues)(e,t,"Invalid day of week, please select one of: ",i.validMonitorDateDayOfWeekOptions,i.stringDaysOptions)&&(0,r.validValues)(e,a,"Invalid hour, please select one of: ",i.validMonitorDateHourOptions)&&(0,r.validValues)(e,o,"Invalid minutes, please select one of: ",i.validMonitorDateMinuteOptions)&&(0,r.validValues)(e,n,"Invalid, please select one of: ",i.validMonitorDateAMorPMOptions))}},7129:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(8037),o=i(a(9153));t.default=async(e,t)=>{if(!e.user)return void(0,r.unAuthenticatedError)(t,"Unauthenticated action");const{userId:a}=e.user;if(!a)return void(0,r.unAuthenticatedError)(t,"Unauthenticated action");const i=await o.default.findOne({_id:a}).select("-__v");if(i)return i;(0,r.unAuthenticatedError)(t,"Unauthenticated action")}},2167:e=>{e.exports=require("axios")},8432:e=>{e.exports=require("bcryptjs")},7807:e=>{e.exports=require("bullmq")},9710:e=>{e.exports=require("cookie-parser")},3582:e=>{e.exports=require("cors")},5142:e=>{e.exports=require("dotenv")},9381:e=>{e.exports=require("envalid")},6860:e=>{e.exports=require("express")},5383:e=>{e.exports=require("express-async-errors")},2821:e=>{e.exports=require("express-mongo-sanitize")},6985:e=>{e.exports=require("express-rate-limit")},3553:e=>{e.exports=require("express-validator")},9770:e=>{e.exports=require("get-port")},7806:e=>{e.exports=require("helmet")},8010:e=>{e.exports=require("http-status-codes")},1495:e=>{e.exports=require("ioredis")},9344:e=>{e.exports=require("jsonwebtoken")},1185:e=>{e.exports=require("mongoose")},9470:e=>{e.exports=require("morgan")},1564:e=>{e.exports=require("validator")},7396:e=>{e.exports=require("xss-clean")}},t={};!function a(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,a),o.exports}(7728)})();